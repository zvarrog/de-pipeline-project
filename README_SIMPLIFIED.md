# DE Pipeline Project - Kindle Reviews

–ü—Ä–æ–µ–∫—Ç –ø–æ –∏–Ω–∂–µ–Ω–µ—Ä–∏–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–∑—ã–≤–æ–≤ –Ω–∞ Kindle –∫–Ω–∏–≥–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Apache Airflow, PySpark –∏ Docker.

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:

1. **–õ–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª** - –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω `data/original/kindle_reviews.csv`
2. **Kaggle API** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ `bharadwaj6/kindle-reviews`
3. **–û—à–∏–±–∫–∞** - –µ—Å–ª–∏ –Ω–∏ –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

## ‚öôÔ∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```bash
docker compose up -d
```

### 2. –ó–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
```bash
# –ß–µ—Ä–µ–∑ Airflow Web UI (http://localhost:8080)
# –õ–æ–≥–∏–Ω: airflow / –ü–∞—Ä–æ–ª—å: airflow

# –ò–ª–∏ —á–µ—Ä–µ–∑ CLI
docker compose exec airflow-apiserver airflow dags trigger end_to_end_kindle_pipeline
```

### 3. –†–µ–∑—É–ª—å—Ç–∞—Ç
–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `output/reviews_processed.parquet/`

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Kaggle API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –Ω–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞, —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å Kaggle.

1. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –Ω–∞ [kaggle.com/settings](https://www.kaggle.com/settings)
2. –ü–æ–º–µ—Å—Ç–∏—Ç–µ `kaggle.json` –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
export KAGGLE_CONFIG_DIR=/workspaces/de-pipeline-project
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ dags/                           # Airflow DAG —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ data/original/                  # –õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞—Ç–∞—Å–µ—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ output/                         # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ process_data.py                 # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ PySpark
‚îú‚îÄ‚îÄ docker-compose.yaml             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îî‚îÄ‚îÄ Dockerfile                      # –û–±—Ä–∞–∑ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
```

## üõ† –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

- **Apache Airflow 3.0.1** - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è pipeline
- **PySpark 3.5.0** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL** - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ Airflow
- **Redis** - –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è Celery
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

## üìä –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–°–∏—Å—Ç–µ–º–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç:
- –ó–∞–≥—Ä—É–∑–∫—É –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- –û—á–∏—Å—Ç–∫—É —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- –ê–≥—Ä–µ–≥–∞—Ü–∏—é –º–µ—Ç—Ä–∏–∫ –ø–æ –ø—Ä–æ–¥—É–∫—Ç–∞–º
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º Parquet —Ñ–æ—Ä–º–∞—Ç–µ

## ‚ÑπÔ∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **Airflow Web UI**: http://localhost:8080 (airflow/airflow)
- **–õ–æ–≥–∏**: `docker compose logs airflow-scheduler`
- **–°—Ç–∞—Ç—É—Å**: `docker compose ps`

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö —Ä–µ–∂–∏–º–æ–≤ - —Å–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ —Ä–µ—à–∞–µ—Ç
- ‚úÖ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å**: –í—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞ —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ 
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ Kaggle
- ‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
